


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Conda Forge Activity (rever.activities.conda_forge) &#8212; rever 0.2.3 documentation</title>
    <link rel="stylesheet" href="../../_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../_static/cloud.base.js"></script>
    <script type="text/javascript" src="../../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../../_static/longship.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GitHub Pages Activity (rever.activities.ghpages)" href="ghpages.html" />
    <link rel="prev" title="Command Activity (rever.activities.command)" href="command.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://xon.sh/api/activities/conda_forge.html"/>

  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="ghpages.html" title="GitHub Pages Activity (rever.activities.ghpages)"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="command.html" title="Command Activity (rever.activities.command)"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">rever 0.2.3 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Rever API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Stock Activities API</a> &#187;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-rever.activities.conda_forge">
<span id="conda-forge-activity-rever-activities-conda-forge"></span><span id="rever-activities-conda-forge"></span><h1>Conda Forge Activity (<code class="docutils literal"><span class="pre">rever.activities.conda_forge</span></code>)<a class="headerlink" href="#module-rever.activities.conda_forge" title="Permalink to this headline">¶</a></h1>
<p>Activity for updating conda-forge feedstocks.</p>
<dl class="class">
<dt id="rever.activities.conda_forge.CondaForge">
<em class="property">class </em><code class="descclassname">rever.activities.conda_forge.</code><code class="descname">CondaForge</code><span class="sig-paren">(</span><em>*</em>, <em>deps=frozenset({'changelog'</em>, <em>'version_bump'})</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates conda-forge feedstocks.</p>
<p>The behaviour of this activity may be adjusted through the following
environment variables:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">$CONDA_FORGE_FEEDSTOCK:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">str or None, feedstock name or URL,
default <code class="docutils literal"><span class="pre">$PROJECT-feedstock</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$CONDA_FORGE_PROTOCOL:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">str, one of <code class="docutils literal"><span class="pre">'ssh'</span></code>, <code class="docutils literal"><span class="pre">'http'</span></code>, or <code class="docutils literal"><span class="pre">'https'</span></code>
that specifies how the activity should interact with github when
cloning, pulling, or pushing to the feedstock repo. Note that
<code class="docutils literal"><span class="pre">'ssh'</span></code> requires you to have an SSH key registered with github.
The default  is <code class="docutils literal"><span class="pre">'ssh'</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$CONDA_FORGE_SOURCE_URL:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">str, the URL that the recipe will use to
download the source code. This is needed so that we may update the
hash of the downloaded file. This string is evaluated with the current
environment. Default
<code class="docutils literal"><span class="pre">'https://github.com/$GITHUB_ORG/$GITHUB_REPO/archive/$VERSION.tar.gz'</span></code>.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$CONDA_FORGE_HASH_TYPE:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">str, the type of hash that the recipe uses, eg
<code class="docutils literal"><span class="pre">'md5'</span></code> or <code class="docutils literal"><span class="pre">'sha256'</span></code>. Default <code class="docutils literal"><span class="pre">'sha256'</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$CONDA_FORGE_PATTERNS:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">list or 3-tuples of str, this is list of
(filename, pattern-regex, replacement) tuples that is evaluated
inside of the recipe directory. This is similar to the version bump
pattern structure. Both the pattern-regex str and the replacement str
will have environment variables expanded. The following environment
variables are added for this evaluation:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$SOURCE_URL</span></code>: the fully expanded source code URL.</li>
<li><code class="docutils literal"><span class="pre">$HASH_TYPE</span></code>: the hash type used to hash <code class="docutils literal"><span class="pre">$SOURCE_URL</span></code>.</li>
<li><code class="docutils literal"><span class="pre">$HASH</span></code>: the hexdigest of <code class="docutils literal"><span class="pre">$SOURCE_URL</span></code>.</li>
</ul>
<p>The default patterns match most standard recipes.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$CONDA_FORGE_PULL_REQUEST:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">bool, whether the activity should open
a pull request to the upstream conda-forge feestock, default True.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$CONDA_FORGE_RERENDER:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first last">bool, whether the activity should rerender the
feedstock using conda-smithy, default True.</p>
</td>
</tr>
</tbody>
</table>
<p>Other environment variables that affect the behavior are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">$GITHUB_CREDFILE:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the credential file to use. This should NOT be
set in the rever.xsh file</td>
</tr>
<tr class="field-even field"><th class="field-name">$GITHUB_ORG:</th><td class="field-body">the github organization that the project belongs to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">$GITHUB_REPO:</th><td class="field-body">the github repository of the project.</td>
</tr>
<tr class="field-even field"><th class="field-name">$PROJECT:</th><td class="field-body">the name of the project being released.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$REVER_CONFIG_DIR:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the user’s config directory for rever, which
is where the GitHub credential files are stored by default.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.all_kwargs">
<code class="descname">all_kwargs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.all_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all kwargs for this activity.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.clear_kwargs_from_env">
<code class="descname">clear_kwargs_from_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.clear_kwargs_from_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes kwarg from the environment, if they exist.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.kwargs_from_env">
<code class="descname">kwargs_from_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.kwargs_from_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains possible func() kwarg from the environment.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls this activities setup() initialization function.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.setupper">
<code class="descname">setupper</code><span class="sig-paren">(</span><em>setup</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.setupper" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that sets the setup function for this activity.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.undo">
<code class="descname">undo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts to the last instance of this activity. This default implementation
uses the revision in the log file from the last time that the activity was
started. This may be overridden in a subclass.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.conda_forge.CondaForge.undoer">
<code class="descname">undoer</code><span class="sig-paren">(</span><em>undo</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.undoer" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that sets the undo function for this activity.</p>
</dd></dl>

<dl class="attribute">
<dt id="rever.activities.conda_forge.CondaForge.env_names">
<code class="descname">env_names</code><a class="headerlink" href="#rever.activities.conda_forge.CondaForge.env_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping parameter names to the names of environment
varaibles that the activity looks for when it is executed.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="rever.activities.conda_forge.feedstock_repo">
<code class="descclassname">rever.activities.conda_forge.</code><code class="descname">feedstock_repo</code><span class="sig-paren">(</span><em>feedstock</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.feedstock_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the name of the feedstock repository.</p>
</dd></dl>

<dl class="function">
<dt id="rever.activities.conda_forge.feedstock_url">
<code class="descclassname">rever.activities.conda_forge.</code><code class="descname">feedstock_url</code><span class="sig-paren">(</span><em>feedstock</em>, <em>protocol='ssh'</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.feedstock_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the URL for a conda-forge feedstock.</p>
</dd></dl>

<dl class="function">
<dt id="rever.activities.conda_forge.fork_url">
<code class="descclassname">rever.activities.conda_forge.</code><code class="descname">fork_url</code><span class="sig-paren">(</span><em>feedstock_url</em>, <em>username</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.conda_forge.fork_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the URL of the user’s fork.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/longship-256.png" alt="Logo"/>
        </a></p>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="command.html"
                          title="Previous page">&larr; Command Activity (<code class="docutils literal"><span class="pre">rever.activities.command</span></code>)</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="ghpages.html"
                          title="Next page">&rarr; GitHub Pages Activity (<code class="docutils literal"><span class="pre">rever.activities.ghpages</span></code>)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/activities/conda_forge.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="ghpages.html" title="GitHub Pages Activity (rever.activities.ghpages)"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="command.html" title="Command Activity (rever.activities.command)"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">rever 0.2.3 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Rever API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Stock Activities API</a> &#187;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Anthony Scopatz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>