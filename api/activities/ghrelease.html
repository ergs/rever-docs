


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>GitHub Release Activity (rever.activities.ghrelease) &#8212; rever 0.2.8 documentation</title>
    <link rel="stylesheet" href="../../_static/numpy_friendly.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../../_static/cloud.base.js"></script>
    <script type="text/javascript" src="../../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../../_static/longship.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Nose Tests Activity (rever.activities.nose)" href="nose.html" />
    <link rel="prev" title="GitHub Pages Activity (rever.activities.ghpages)" href="ghpages.html" />
     
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="http://xon.sh/api/activities/ghrelease.html"/>

  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nose.html" title="Nose Tests Activity (rever.activities.nose)"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="ghpages.html" title="GitHub Pages Activity (rever.activities.ghpages)"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">rever 0.2.8 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Rever API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Stock Activities API</a> &#187;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-rever.activities.ghrelease">
<span id="github-release-activity-rever-activities-ghrelease"></span><span id="rever-activities-ghrelease"></span><h1>GitHub Release Activity (<code class="docutils literal notranslate"><span class="pre">rever.activities.ghrelease</span></code>)<a class="headerlink" href="#module-rever.activities.ghrelease" title="Permalink to this headline">¶</a></h1>
<p>Activity for performing a GitHub release.</p>
<dl class="class">
<dt id="rever.activities.ghrelease.GHRelease">
<em class="property">class </em><code class="descclassname">rever.activities.ghrelease.</code><code class="descname">GHRelease</code><a class="headerlink" href="#rever.activities.ghrelease.GHRelease" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a github release.</p>
<p>The behaviour of this activity may be adjusted through the following
environment variables:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">$GHRELEASE_NAME:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">str, Name of the release.  This is evaluated with the
version. Default is <code class="docutils literal notranslate"><span class="pre">$VERSION</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$GHRELEASE_NOTES:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">str or None, Release notes to send to the release
page. If None (the default), this is read from <code class="docutils literal notranslate"><span class="pre">$CHANGELOG_LATEST</span></code>,
if present, or failing that <code class="docutils literal notranslate"><span class="pre">$REVER_DIR/LATEST</span></code>. If neither file exists,
an empty string is passes in.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$GHRELEASE_PREPEND:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">str, string to prepend to the release notes,
defaults to ‘’</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$GHRELEASE_APPEND:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">str, string to append to the release notes,
defaults to ‘’</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$GHRELEASE_ASSETS:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">iterable of str or functions, Extra assests to
upload to the GitHub release. This is ususally a tarball of the source
code or a binary package. If the asset is a string, it is interpreted
as a filename (and evalauated in the current environment). If the asset
is a function, the function is called with no arguments and should return
either a string filename or a list of string filenames. The asset
functions will usually generate or acquire the asset. By default, this
a tarball of the release tag will be uploaded.</td>
</tr>
</tbody>
</table>
<p>Other environment variables that affect the behavior are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">$GITHUB_CREDFILE:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">the credential file to use.</td>
</tr>
<tr class="field-even field"><th class="field-name">$GITHUB_ORG:</th><td class="field-body">the github organization that the project belongs to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">$GITHUB_REPO:</th><td class="field-body">the github repository of the project.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">$REVER_CONFIG_DIR:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">the user’s config directory for rever, which
is where the GitHub credential files are stored by default.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">$CHANGELOG_LATEST:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">path to the latest release notes file
created by the changelog activity.</td>
</tr>
<tr class="field-even field"><th class="field-name">$TAG_TEMPLATE:</th><td class="field-body">may used to find the tag name when creating the default
asset.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.all_kwargs">
<code class="descname">all_kwargs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.all_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all kwargs for this activity.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.clear_kwargs_from_env">
<code class="descname">clear_kwargs_from_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.clear_kwargs_from_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes kwarg from the environment, if they exist.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.kwargs_from_env">
<code class="descname">kwargs_from_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.kwargs_from_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains possible func() kwarg from the environment.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls this activities setup() initialization function.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.setupper">
<code class="descname">setupper</code><span class="sig-paren">(</span><em>setup</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.setupper" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that sets the setup function for this activity.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.undo">
<code class="descname">undo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts to the last instance of this activity. This default implementation
uses the revision in the log file from the last time that the activity was
started. This may be overridden in a subclass.</p>
</dd></dl>

<dl class="method">
<dt id="rever.activities.ghrelease.GHRelease.undoer">
<code class="descname">undoer</code><span class="sig-paren">(</span><em>undo</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.undoer" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that sets the undo function for this activity.</p>
</dd></dl>

<dl class="attribute">
<dt id="rever.activities.ghrelease.GHRelease.env_names">
<code class="descname">env_names</code><a class="headerlink" href="#rever.activities.ghrelease.GHRelease.env_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping parameter names to the names of environment
varaibles that the activity looks for when it is executed.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="rever.activities.ghrelease.find_notes">
<code class="descclassname">rever.activities.ghrelease.</code><code class="descname">find_notes</code><span class="sig-paren">(</span><em>notes</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.find_notes" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to find the release notes in a variety of places.</p>
</dd></dl>

<dl class="function">
<dt id="rever.activities.ghrelease.git_archive_asset">
<code class="descclassname">rever.activities.ghrelease.</code><code class="descname">git_archive_asset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.git_archive_asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides tarball of the repository as an asset.</p>
</dd></dl>

<dl class="function">
<dt id="rever.activities.ghrelease.read_file_if_exists">
<code class="descclassname">rever.activities.ghrelease.</code><code class="descname">read_file_if_exists</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#rever.activities.ghrelease.read_file_if_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads file if it exists, returns None otherwise</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/longship-256.png" alt="Logo"/>
        </a></p>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="ghpages.html"
                          title="Previous page">&larr; GitHub Pages Activity (<code class="docutils literal notranslate"><span class="pre">rever.activities.ghpages</span></code>)</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="nose.html"
                          title="Next page">&rarr; Nose Tests Activity (<code class="docutils literal notranslate"><span class="pre">rever.activities.nose</span></code>)</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/activities/ghrelease.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nose.html" title="Nose Tests Activity (rever.activities.nose)"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="ghpages.html" title="GitHub Pages Activity (rever.activities.ghpages)"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">rever 0.2.8 documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Rever API</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Stock Activities API</a> &#187;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Anthony Scopatz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>